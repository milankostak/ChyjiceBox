var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(w){return w.raw=w};$jscomp.createTemplateTagFirstArgWithRaw=function(w,Y){w.raw=Y;return w};var ChyjiceBox={};
$(function(){function w(a,b,c,e,l,m){this.href=a;this.title=b;this.type=c;this.loaded=!1;this.date=e;this.lat=l;this.longt=m}function Y(){$("[data-chyjicebox]").each(function(){var a=$(this),b=a.attr("href"),c=b.toLowerCase().split(".")[b.toLowerCase().split(".").length-1];if(-1!==$.inArray(c,va)){var e=a.attr("data-chyjicebox"),l=a.children().attr("alt"),m=a.attr("data-date"),z=a.attr("data-lat"),Z=a.attr("data-long"),ha=0;""!==e&&(ha=g++);var ia=new w(b,l,"webm"===c||"mp4"===c?k.VIDEO:k.IMAGE,m,
z,Z);""!==e&&"pdf"!==c&&n.push(ia);a.click(function(wa){if(1===wa.button)return!0;""===e&&(x=void 0!==a.attr("data-fittoscreen"));(L="pdf"===c)?(D.attr("src",b),ja()):((q=""!==e)?t.addClass("cursorpointer"):t.removeClass("cursorpointer"),A=!0,B=!1,d=ia,g=ha,xa(),aa());return!1})}})}function aa(){d.loaded||E.show();var a=function(){d.loaded=!0;if(!B){ka(this);for(var c=1;q&&2>=c;c++)ya(c)}};if(d.type===k.IMAGE){var b=new Image;b.onload=a;b.onerror=function(){d.loaded=!0;B||ka(!1)}}else b=document.createElement("video"),
b.oncanplay=a;M=!0;b.src=d.href}function ka(a){E.hide();if(d.type===k.IMAGE){h.removeClass("top");var b=F=(r="object"===typeof a)?a.width:200;a=G=r?a.height:50}else h.addClass("top"),r=!0,b=F=a.videoWidth,a=G=a.videoHeight;A&&ja();r?(b=la(),ma(b[0],b[1],u.scrollTop()+b[2])):(h.css("display","none"),ma(b,a,na()));H||(I.css("display",0<g&&q?"block":"none"),J.css("display",g<n.length-1&&q?"block":"none"));C.css("height",u.height())}function ja(){ba();f.show();if(x||L){var a=N.innerWidth();N.css("overflow",
"hidden");a=N.innerWidth()-a;O.css("padding-right",a+"px")}C.fadeIn(200,function(){(L?D:p).fadeIn(100,function(){C.css("height",u.height())})})}function P(){if(document.fullscreenElement===v||document.webkitFullscreenElement===v)document.exitFullscreen(),y.removeClass("shrink");u.unbind("keydown.chyjicebox-keypress");E.hide();D.hide();p.fadeOut(70);f.fadeOut(250,function(){B=!0;if(x||L)N.css("overflow","auto"),O.css("padding-right","0");C.hide();t.html("");h.html("");""!==D.attr("src")&&D.attr("src",
"");ba()})}function la(){var a=$(window).width(),b=$(window).height(),c=F,e=G,l=!1,m=!1;x&&e>b&&(e=b,c=F*e/G,l=!0);x&&c>a&&(c=a,e=G*c/F,m=!0);a=0;x&&(m||!m&&!l)&&(a=(b-e)/2);return[c,e,a]}function ma(a,b,c){var e=$(window).width(),l=A?1:300,m=A?1:180;a=Math.round(a);b=Math.round(b);c=Math.round(c);var z=Math.round((e-a)/2);0>z&&(z=0);var Z=a-20;p.css("width")===a+"px"&&p.css("height")===b+"px"&&p.css("top")===c+"px"&&p.css("left")===z+"px"&&(m=l=0);t.fadeOut(m,function(){void 0!==d.title?(h.html(za()),
h.animate({width:Z},l),"none"===h.css("display")&&r&&h.fadeIn(l)):(h.html(""),h.css("display","none"));p.animate({width:a,height:b,top:c,left:z},l,function(){t.html(d.type===k.IMAGE?r?'<img src="'+d.href+'" width="'+a+'px" height="'+b+'px">':'<div class="chyjicebox-notfound">Obr\u00e1zek nebyl nalezen.</strong></div>':'<video width="'+a+'px" src="'+d.href+'" controls></video>');M=!1;t.fadeIn(m);Q.attr("href",d.href);if(d.type===k.VIDEO)$("#chyjicebox > #imgbox video").on("play",oa)})})}function za(){var a=
q?g+1+"/"+n.length:"";void 0!==d.date&&(a+="&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;"+d.date);if(""!==d.lat&&void 0!==d.lat){var b=d.longt.substring(0,d.longt.length-1);var c=d.lat.substring(0,d.lat.length-1);d.longt.toUpperCase().endsWith("W")&&(b="-"+b);d.lat.toUpperCase().endsWith("S")&&(c="-"+c);b=pa()?"https://mapy.cz/zakladni?x="+b+"&y="+c+"&z=17&source=coor&id="+b+"%2C"+c:"https://www.google.com/maps?q=loc:"+c+","+b;a+='&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;<a href="'+(b+'">Mapa</a>')}return a+=
"&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;"+d.title}function ya(a){a=ca?a:-a;var b=g+a;0>g+a?b=0:g+a>n.length-1&&(b=n.length-1);var c=n[b];c.loaded||c.type===k.VIDEO||(a=new Image,a.onload=function(){c.loaded=!0},a.src=c.href)}function R(){!M&&0<g&&q&&(d=n[--g],ca=A=!1,aa())}function K(){!M&&g<n.length-1&&q&&(d=n[++g],ca=!0,A=!1,aa())}function na(){var a=2*$(window).height()/5;return u.scrollTop()+a}function Aa(){da=!0;var a=$(window).width(),b=la(),c=b[0],e=b[1];b=b[2];p.animate({width:r?c:200,height:r?
e:50,top:r?u.scrollTop()+b:na(),left:(a-c)/2},200);h.animate({width:c-20},200);t.children().animate({width:c,height:e},200);C.css("height",u.height())}function xa(){u.bind("keydown.chyjicebox-keypress",function(a){var b=a.ctrlKey||a.shiftKey||a.altKey;switch(a.which){case 32:return d.type===k.VIDEO&&(b=S(),b.paused?b.play():b.pause(),a.preventDefault()),!1;case 27:P();a.preventDefault();break;case 87:case 65:case 33:case 38:case 37:if(!b)return R(),a.preventDefault(),T(),!1;a.shiftKey^a.ctrlKey&&
37===a.which&&d.type===k.VIDEO&&(qa(a.shiftKey?-3:-30),a.preventDefault());break;case 83:case 68:case 34:case 40:case 39:if(!b)return K(),a.preventDefault(),T(),!1;a.shiftKey^a.ctrlKey&&39===a.which&&d.type===k.VIDEO&&(qa(a.shiftKey?3:30),a.preventDefault());break;case 70:ra();break;case 8:case 13:a.preventDefault()}})}function T(){H||(H=!0,Ba(),I.animate({left:"-150"},350,function(){I.hide().css("left",0)}),J.animate({right:"-150"},350,function(){J.hide().css("right",0)}),U.animate({top:"-50"},350,
function(){U.hide().css("top",0)}),y.animate({top:"-50"},350,function(){y.hide().css("top",0)}),V.animate({top:"-50"},350,function(){V.hide().css("top",0)}),Q.animate({top:"-50"},350,function(){Q.hide().css("top",0)}))}function ba(){H&&(H=!1,0<g&&q&&I.css("left",-150).show().animate({left:"0"},350),g<n.length-1&&q&&J.css("right",-150).show().animate({right:"0"},350),U.css("top",-50).show().animate({top:"0"},350),y.css("top",-50).show().animate({top:"0"},350),V.css("top",-50).show().animate({top:"0"},
350),Q.css("top",-50).show().animate({top:"0"},350),h.show())}function Ba(){f.bind("mousemove.chyjicebox-mousemove",function(a){ba();f.unbind("mousemove.chyjicebox-mousemove");d.type==k.VIDEO&&(clearTimeout(ea),S().paused||oa())})}function oa(){clearTimeout(ea);ea=setTimeout(function(){T();h.hide()},2E3)}function qa(a){var b=S();a=b.currentTime+a;b.currentTime=0>a?0:a>b.duration?b.duration:a}function S(){return $("#chyjicebox > #imgbox video")[0]}function ra(){document.fullscreenElement===v||document.webkitFullscreenElement===
v?(document.exitFullscreen(),y.removeClass("shrink")):(v.requestFullscreen(),y.addClass("shrink"))}function pa(){var a=fa.get("chyjicebox-maps");return""===a||"mapycz"===a}var u=$(document),O=$("body"),N=$("html"),va="gif jpg jpeg png pdf webm mp4".split(" "),F=0,G=0,g=0,q=!1,A=!0,M=!1,r=!0,B=!0,ca=!0,L=!1,x=!0,H=!1,d=null,n=[],da=!0,sa=null,W=null,X=null,k={IMAGE:1,VIDEO:2};O.append('<div id="chyjicebox-wrapper"></div>');var f=$("#chyjicebox-wrapper");f.append('<div id="chyjicebox"></div>');var p=
$("#chyjicebox");f.append('<div id="chyjicebox-overlay"></div>');var C=$("#chyjicebox-overlay");O.append('<div id="chyjicebox-loading"></div>');var E=$("#chyjicebox-loading");p.append('<div id="imgbox"></div>');var t=$("#chyjicebox #imgbox");p.append('<div id="title"></div>');var h=$("#chyjicebox #title");f.append('<button id="chyjicebox-prev" type="button" title="P\u0159edchoz\u00ed">\u25c1</button>');var I=$("#chyjicebox-prev");f.append('<button id="chyjicebox-next" type="button" title="Dal\u0161\u00ed">\u25b7</button>');
var J=$("#chyjicebox-next");f.append('<button id="chyjicebox-close" title="Zav\u0159\u00edt">\u2715</button>');var U=$("#chyjicebox-close");f.append('<button id="chyjicebox-full" title="Cel\u00e1 obrazovka"></button>');var y=$("#chyjicebox-full");f.append('<button id="chyjicebox-settings" title="Nastaven\u00ed"></button>');var V=$("#chyjicebox-settings");f.append('<div id="chyjicebox-settings-block">\n\t\t<input type="radio" name="maps" id="mapycz" value="mapycz"><label for="mapycz">Mapy.cz</label>\n\t\t<input type="radio" name="maps" id="google" value="google"><label for="google">Google maps</label>\n\t</div>');
var Ca=$("#chyjicebox-settings-block"),ta=$("#chyjicebox-settings-block #mapycz"),ua=$("#chyjicebox-settings-block #google");f.append('<a id="chyjicebox-newtab" href="" onclick="window.open(this.href); return false;" title="Otev\u0159\u00edt ve vlastn\u00edm okn\u011b"></a>');var Q=$("#chyjicebox-newtab");f.append('<iframe id="chyjicebox-iframe" src=""></iframe>');var D=$("#chyjicebox-iframe");E.click(P);U.click(P);C.click(P);I.click(R);J.click(K);t.click(function(){var a=S();(d.type!==k.VIDEO||0===
a.currentTime||a.paused)&&K()});f.on("touchstart",function(a){W=a.touches[0].clientX;X=a.touches[0].clientY});f.on("touchmove",function(a){if(W&&X){var b=W-a.touches[0].clientX;Math.abs(b)>Math.abs(X-a.touches[0].clientY)&&(0<b?K():R(),T());X=W=null}});$(window).resize(function(){da&&(da=!1,clearTimeout(sa),sa=setTimeout(Aa,500))});p.bind("mousewheel DOMMouseScroll",function(a){if(q){var b=a.originalEvent.wheelDelta||-a.detail;0>(0<b?1:0>b?-1:0)?K():R();a.preventDefault()}});var ea=null,v=document.body;
v.requestFullscreen=v.requestFullscreen||v.webkitRequestFullscreen;document.exitFullscreen=document.exitFullscreen||document.webkitExitFullscreen;y.click(ra);V.click(function(){pa()?ta.prop("checked",!0):ua.prop("checked",!0);Ca.fadeToggle(120)});ta.click(function(){return fa.set("chyjicebox-maps","mapycz")});ua.click(function(){return fa.set("chyjicebox-maps","google")});var fa={set:function(a,b,c,e){c=void 0===c?7:c;e=void 0===e?"/":e;c=(new Date(Date.now()+864E5*c)).toUTCString();document.cookie=
a+"="+encodeURIComponent(b)+"; expires="+c+"; path="+e},get:function(a){return document.cookie.split("; ").reduce(function(b,c){var e=c.split("=");return e[0]===a?decodeURIComponent(e[1]):b},"")},"delete":function(a,b){set(a,"",-1,void 0===b?"/":b)}};(new Image).src="/img/chyjicebox/loading.gif";(new Image).src="/img/chyjicebox/full.png";(new Image).src="/img/chyjicebox/shrink.png";(new Image).src="/img/chyjicebox/settings.png";(new Image).src="/img/chyjicebox/newtab.png";ChyjiceBox.init=function(a){a&&
(x=!1);Y()};ChyjiceBox.clean=function(){g=n.length=0;B=!0;E.hide()};ChyjiceBox.isClosed=function(){return B}});